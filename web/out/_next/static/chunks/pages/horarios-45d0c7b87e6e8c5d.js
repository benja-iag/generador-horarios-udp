(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[145],{9994:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/horarios",function(){return r(9766)}])},8418:function(e,n,r){"use strict";function t(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(t=(a=l.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(c){o=!0,i=c}finally{try{t||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.default=void 0;var o,i=(o=r(7294))&&o.__esModule?o:{default:o},a=r(6273),l=r(387),c=r(7190);var s={};function u(e,n,r,t){if(e&&a.isLocalURL(n)){e.prefetch(n,r,t).catch((function(e){0}));var o=t&&"undefined"!==typeof t.locale?t.locale:e&&e.locale;s[n+"%"+r+(o?"%"+o:"")]=!0}}var f=function(e){var n,r=!1!==e.prefetch,o=l.useRouter(),f=i.default.useMemo((function(){var n=t(a.resolveHref(o,e.href,!0),2),r=n[0],i=n[1];return{href:r,as:e.as?a.resolveHref(o,e.as):i||r}}),[o,e.href,e.as]),d=f.href,h=f.as,v=e.children,p=e.replace,m=e.shallow,y=e.scroll,x=e.locale;"string"===typeof v&&(v=i.default.createElement("a",null,v));var b=(n=i.default.Children.only(v))&&"object"===typeof n&&n.ref,j=t(c.useIntersection({rootMargin:"200px"}),2),g=j[0],w=j[1],N=i.default.useCallback((function(e){g(e),b&&("function"===typeof b?b(e):"object"===typeof b&&(b.current=e))}),[b,g]);i.default.useEffect((function(){var e=w&&r&&a.isLocalURL(d),n="undefined"!==typeof x?x:o&&o.locale,t=s[d+"%"+h+(n?"%"+n:"")];e&&!t&&u(o,d,h,{locale:n})}),[h,d,w,x,r,o]);var I={ref:N,onClick:function(e){n.props&&"function"===typeof n.props.onClick&&n.props.onClick(e),e.defaultPrevented||function(e,n,r,t,o,i,l,c){("A"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&a.isLocalURL(r))&&(e.preventDefault(),null==l&&t.indexOf("#")>=0&&(l=!1),n[o?"replace":"push"](r,t,{shallow:i,locale:c,scroll:l}))}(e,o,d,h,p,m,y,x)},onMouseEnter:function(e){n.props&&"function"===typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),a.isLocalURL(d)&&u(o,d,h,{priority:!0})}};if(e.passHref||"a"===n.type&&!("href"in n.props)){var C="undefined"!==typeof x?x:o&&o.locale,E=o&&o.isLocaleDomain&&a.getDomainLocale(h,C,o&&o.locales,o&&o.domainLocales);I.href=E||a.addBasePath(a.addLocale(h,C,o&&o.defaultLocale))}return i.default.cloneElement(n,I)};n.default=f},7190:function(e,n,r){"use strict";function t(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(t=(a=l.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(c){o=!0,i=c}finally{try{t||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(n,"__esModule",{value:!0}),n.useIntersection=function(e){var n=e.rootMargin,r=e.disabled||!a,c=o.useRef(),s=t(o.useState(!1),2),u=s[0],f=s[1],d=o.useCallback((function(e){c.current&&(c.current(),c.current=void 0),r||u||e&&e.tagName&&(c.current=function(e,n,r){var t=function(e){var n=e.rootMargin||"",r=l.get(n);if(r)return r;var t=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var n=t.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;n&&r&&n(r)}))}),e);return l.set(n,r={id:n,observer:o,elements:t}),r}(r),o=t.id,i=t.observer,a=t.elements;return a.set(e,n),i.observe(e),function(){a.delete(e),i.unobserve(e),0===a.size&&(i.disconnect(),l.delete(o))}}(e,(function(e){return e&&f(e)}),{rootMargin:n}))}),[r,n,u]);return o.useEffect((function(){if(!a&&!u){var e=i.requestIdleCallback((function(){return f(!0)}));return function(){return i.cancelIdleCallback(e)}}}),[u]),[d,u]};var o=r(7294),i=r(9311),a="undefined"!==typeof IntersectionObserver;var l=new Map},5400:function(e,n,r){"use strict";var t=r(5893),o=r(7294),i=r(1664),a=r(1163);n.Z=function(e){var n=e.mensaje,r=e.estilo,l=void 0===r?{}:r,c=(0,o.useState)(5),s=c[0],u=c[1];return(0,o.useEffect)((function(){var e=setTimeout((function(){return u(s-1)}),1e3);return 0==s&&a.default.push("/"),function(){clearTimeout(e)}})),(0,t.jsx)("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{style:l,children:n}),(0,t.jsxs)("p",{children:["Ser\xe1s redirigido a la"," ",(0,t.jsx)(i.default,{href:"/",className:"link-info",children:(0,t.jsx)("a",{children:"p\xe1gina principal"})})," en ",(0,t.jsx)("span",{style:{color:s<=3?"red":"black"},children:s})," ","segundo",1===s?"":"s"]})]})})}},1733:function(e,n,r){"use strict";r.d(n,{Z:function(){return i}});var t=r(5893),o=function(e){var n,r=e.info,o=e.bloque;return(0,t.jsx)("td",{children:(0,t.jsxs)("div",{style:{},children:[(0,t.jsx)("p",{style:{fontSize:"15px",marginBottom:"3px"},children:null===r||void 0===r?void 0:r.nombre}),(0,t.jsx)("p",{style:{fontSize:"13px",marginBottom:"3px"},children:null===r||void 0===r||null===(n=r.horarios)||void 0===n?void 0:n.find((function(e){return e[0]===o[0]&&e[1]===o[1]}))[2]}),(0,t.jsx)("p",{style:{fontSize:"12px",marginBottom:"0px",color:"gray"},children:null===r||void 0===r?void 0:r.profesor}),(0,t.jsx)("span",{style:{color:"gray",fontSize:"12px"},children:(0,t.jsx)("small",{children:null===r||void 0===r?void 0:r.seccion})})]})})},i=function(e){var n=e.horario,r={"08:30 - 09:50":"A","10:00 - 11:20":"B","11:30 - 12:50":"C","13:00 - 14:20":"D","14:30 - 15:50":"E","16:00 - 17:20":"F","17:25 - 18:45":"G","18:50 - 20:10":"H","20:15 - 21:35":"I"};Object.values(n).map((function(e){return e.A})).every((function(e){return!e}))&&delete r["08:30 - 09:50"];var i=Object.values(n).map((function(e){return e.H})),a=Object.values(n).map((function(e){return e.I}));return i.every((function(e){return!e}))&&(delete r["18:50 - 20:10"],a.every((function(e){return!e}))&&delete r["20:15 - 21:35"]),(0,t.jsx)("div",{className:"container-xl",children:(0,t.jsxs)("table",{className:"table table-hover",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"table-active",children:[(0,t.jsx)("th",{scope:"col"}),(0,t.jsx)("th",{scope:"col",children:"Lunes"}),(0,t.jsx)("th",{scope:"col",children:"Martes"}),(0,t.jsx)("th",{scope:"col",children:"Miercoles"}),(0,t.jsx)("th",{scope:"col",children:"Jueves"}),(0,t.jsx)("th",{scope:"col",children:"Viernes"})]})}),(0,t.jsx)("tbody",{children:Object.keys(r).map((function(e){return(0,t.jsxs)("tr",{className:"table-secondary",children:[(0,t.jsx)("th",{children:e}),(0,t.jsx)(o,{info:n.LU[r[e]],bloque:["LU",r[e]]}),(0,t.jsx)(o,{info:n.MA[r[e]],bloque:["MA",r[e]]}),(0,t.jsx)(o,{info:n.MI[r[e]],bloque:["MI",r[e]]}),(0,t.jsx)(o,{info:n.JU[r[e]],bloque:["JU",r[e]]}),(0,t.jsx)(o,{info:n.VI[r[e]],bloque:["VI",r[e]]})]},r[e])}))})]})})}},9766:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return p}});var t=r(5893),o=r(7294),i=r(1664),a=r(1733),l=function(e,n,r){var t=r.indexOf(n);return e.map((function(e,n){return{combinacion:e,indiceCombinacion:n}})).filter((function(e){return e.combinacion.secciones.every((function(e,n){return n===t||e===r[n]}))}))},c=function(e){var n=e.seccion,r=e.combinaciones,o=e.secciones,i=e.handleCombinationChange,a=e.combinacionActual,c=l(r,n,o),s=o.indexOf(n);return(0,t.jsxs)("span",{className:"list-group-item list-group-item-action flex-column align-items-start",children:[(0,t.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[(0,t.jsx)("h5",{className:"mb-1",children:n.nombre}),(0,t.jsx)("span",{children:(0,t.jsx)("select",{className:"form-select mb-2",defaultValue:a,onChange:function(e){i(e.target.value)},children:c.map((function(e){var n=e.combinacion,r=e.indiceCombinacion,o=n.secciones[s];return(0,t.jsxs)("option",{value:r,children:[null===o||void 0===o?void 0:o.seccion," ",(null===o||void 0===o?void 0:o.profesor)?"-".concat(null===o||void 0===o?void 0:o.profesor):""]},null===o||void 0===o?void 0:o.paquete)}))})})]}),(0,t.jsx)("small",{className:"",children:n.id_ramo})]},n.paquete)},s=r(5400),u=r(3978),f=function(e){if(!e)return[];for(var n=e.map((function(e){return e.length})),r=n.reduce((function(e,n){return e*n}),1),t=[],o=0;o<r;o++){var i=o,a=[],l=!0,c=!1,s=void 0;try{for(var f,d=n[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var h=f.value;a.push(i%h),i=Math.floor(i/h)}}catch(p){c=!0,s=p}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}var v=(0,u.Z)(e.map((function(e,n){return e[a[n]]})));v&&t.push({horario:v,secciones:e.map((function(e,n){return e[a[n]]}))})}return t},d=function(e){var n=0,r=0,t=!1,o=!0,i=!1,a=void 0;try{for(var l,c=["A","B","C","D","E","F","G","H","I"][Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var s=l.value;e[s]&&t?(n+=r,r=0):e[s]&&!t?t=!0:t&&!e[s]&&r++}}catch(u){i=!0,a=u}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}return n},h=function(e){var n=0,r=!0,t=!1,o=void 0;try{for(var i,a=["LU","MA","MI","JU","VI"][Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var l=i.value;n+=d(e[l])}}catch(c){t=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(t)throw o}}return n},v=function(e){return e.sort((function(e,n){return h(e.horario)-h(n.horario)}))},p=function(){var e,n,r=(0,o.useState)([]),l=r[0],u=r[1],d=(0,o.useState)(0),h=d[0],p=d[1],m=(0,o.useState)([]),y=m[0],x=m[1];if((0,o.useEffect)((function(){l=u(JSON.parse(window.localStorage.getItem("ramos")))}),[]),(0,o.useEffect)((function(){console.log("ramos",l),x(v(f(null===l||void 0===l?void 0:l.filter((function(e){return e})))))}),[l]),console.log("ramos",l),l&&0===y.length)return console.log(y),(0,t.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("div",{className:"spinner-border",role:"status",children:(0,t.jsx)("span",{className:"sr-only",children:"Loading..."})})});if(!l||l.every((function(e){return!e}))||0===y.length)return(0,t.jsx)(s.Z,{mensaje:"Debes seleccionar al menos 1 ramo"});var b=null===(e=y[h])||void 0===e?void 0:e.secciones,j=function(e){p(Number.parseInt(e))};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"row",style:{height:"100vh",display:"flex",alignItems:"center"},children:[(0,t.jsxs)("div",{className:"col-8",style:{paddingRight:0},children:[(0,t.jsx)(a.Z,{secciones:b,horario:null===(n=y[h])||void 0===n?void 0:n.horario}),(0,t.jsx)("p",{className:"",children:"Tambi\xe9n puedes probar otras combinaciones:"}),(0,t.jsx)("div",{style:{width:"fit-content",margin:"auto"},children:(0,t.jsxs)("ul",{className:"pagination",children:[(0,t.jsx)("li",{className:"page-item ".concat(0===h&&"disabled"),children:(0,t.jsx)("button",{disabled:0===h,className:"page-link disabled",onClick:function(){p(h-1)},children:"\xab"})}),(0,t.jsx)("li",{className:"page-item active",children:(0,t.jsx)("span",{className:"page-link",children:h+1})}),(0,t.jsx)("li",{className:"page-item ".concat(h+1===y.length&&"disabled"),children:(0,t.jsx)("button",{disabled:h+1===y.length,className:"page-link disabled",onClick:function(){p(h+1)},children:"\xbb"})})]})}),(0,t.jsx)("p",{className:"text-muted",style:{fontSize:"12px"},children:"(Los horarios est\xe1n ordenados seg\xfan el numero de ventanas)"})]}),(0,t.jsxs)("div",{className:"col-4 pe-4",style:{paddingLeft:0},children:[(0,t.jsx)("div",{className:"list-group",children:null===b||void 0===b?void 0:b.map((function(e){return(0,t.jsx)(c,{seccion:e,combinaciones:y,secciones:b,handleCombinationChange:j,combinacionActual:h},e.paquete)}))}),(0,t.jsx)(i.default,{href:"/",children:(0,t.jsx)("a",{className:"btn btn-outline-warning mt-3 me-3",children:"Volver al inicio"})}),(0,t.jsx)(i.default,{href:"/selector",children:(0,t.jsxs)("a",{className:"btn btn-outline-dark mt-3",children:["Volver al selector",(0,t.jsx)("br",{}),"de ramos"]})})]})]})})}},3978:function(e,n){"use strict";function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=[],t=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(t=(a=l.next()).done)&&(r.push(a.value),!n||r.length!==n);t=!0);}catch(c){o=!0,i=c}finally{try{t||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.Z=function(e){var n={LU:{},MA:{},MI:{},JU:{},VI:{}},t=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(t=(a=l.next()).done);t=!0){var c=a.value,s=[],u=!0,f=!1,d=void 0;try{for(var h,v=c.horarios[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var p=h.value,m=r(p,2),y=m[0],x=m[1];if(n[y][x])return!1;s.push(p)}}catch(C){f=!0,d=C}finally{try{u||null==v.return||v.return()}finally{if(f)throw d}}if(s.length===c.horarios.length){var b=!0,j=!1,g=void 0;try{for(var w,N=s[Symbol.iterator]();!(b=(w=N.next()).done);b=!0){var I=w.value;n[I[0]][I[1]]=c}}catch(C){j=!0,g=C}finally{try{b||null==N.return||N.return()}finally{if(j)throw g}}}}}catch(C){o=!0,i=C}finally{try{t||null==l.return||l.return()}finally{if(o)throw i}}return n}},1664:function(e,n,r){e.exports=r(8418)},1163:function(e,n,r){e.exports=r(387)}},function(e){e.O(0,[774,888,179],(function(){return n=9994,e(e.s=n);var n}));var n=e.O();_N_E=n}]);